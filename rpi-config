#!/bin/sh
# -----------------------------------------------------------------------------
# __________        .__          _________                _____.__        
# \______   \______ |__|         \_   ___ \  ____   _____/ ____\__| ____  
# |       _/\____ \|  |  ______ /    \  \/ /  _ \ /    \   __\|  |/ ___\ 
# |    |   \|  |_> >  | /_____/ \     \___(  <_> )   |  \  |  |  / /_/  >
# |____|_  /|   __/|__|          \______  /\____/|___|  /__|  |__\___  / 
#        \/ |__|                        \/            \/        /_____/  
#
# -----------------------------------------------------------------------------
# Author: Nicolas FRADIN
# Date:	  2014/02
# -----------------------------------------------------------------------------


# -----------------------------------------------------------------------------
# Calculate framebuffer size for whiptail
#
calc_whiptail_size() {
  WT_HEIGHT=17
  WT_WIDTH=$(tput cols)

  if [ -z "$WT_WIDTH" ] || [ "$WT_WIDTH" -lt 60 ]; then
    WT_WIDTH=80
  fi
  if [ "$WT_WIDTH" -gt 178 ]; then
    WT_WIDTH=120
  fi
  WT_MENU_HEIGHT=$(($WT_HEIGHT-8))
}


# -----------------------------------------------------------------------------
# Program Entry Point
#
calc_whiptail_size
echo "Width: $WT_WIDTH"
echo "Height: $WT_HEIGHT"
